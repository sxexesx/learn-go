#  Основные конструкции языка

## Основные типы данных

**Целочисленные:** byte, int8, uint8, int16, uint16, int32, uint32 int64, uint64, rune
**Вещественные:** float32, float64  
**Логический:** bool  
**Строковый**: string  
**Комплексные**: complex64, complex128 - вещественная и мнима 

!!! Под капотом:  
**rune** - хранит utf code points = 4byte  


## Что такое строки?
Строка GO - cлайс байтов, предназначеный для чтения, который может содержать байты любого типа и иметь произвольную длину. 
Это изменяемый объект. Когда создается новая строка(или конкатинируются строки), создается новый объект (слайс).

## Что такое iota?

Специальная конструкция языка, которая автоматически увеличивается на единицу в каждом новом объявлении константы внутри одного блока const
```
const (
    a = iota // 0 
    _        // пропуск
    c        // 2
)
```

## Что такое составной тип? Какие составные типы в языке go существуют?

**Составной тип** - тип, который состоит из одного или нескольких других типов, объединяя их в более сложные структуры данных.

В go выделяют:
- массивы - фиксированный набор элементов
- срез/слайс - динамический гибкий массив, который может менять размер
- структуры - набор полей любых типов, объединенных под одним именем
- мапа - ассоциативный массив, хранящий пары клюс-значение
- каналы - структура обмена данными между горутинами
- указатели - типы, хранящие других переменных
- функции - тоже является составным типом, поскольку может быть присвоен переменной
- интерфейсы - тип для описания набора методов, которые должны быть реализованы

## Что такое массив?

Составной тип данных, который содержит однородные элементы, имеет фиксированный размер и **не расширяемый**.

`[n]T` - массив из n элементов типа T  

Нулевое значение - массив проинициированный дефолтными значениями типа T

## Что такое слайс?
Это составной тип, в основе которого лежит массив, обладающий следующими элементами:

**ptr** - указатель на область памяти, на массив или на элемент массива с которого начинается слайс  
**len** - длина массива  
**cap** - вместимость массива  

Основное отличие от массива то, что слайс можно **расширить**
Нулевое значение - `nil`

## Как меняется длина слайса при добавлении элементов?

Когда инициируется пустой слайс, создается пустой массив с емкостью 0 элементов. При добавлении первого элемента, ёмкость увеличивается до одного. Появляется указатель на первый элемент. При добавлении последующего элемента емкость увеличивается на 1, длина увеличивается на 1. Также происходит реаллокация массива. 

Если в слайсе не хватает памяти, тогда он выделяет памяти в два разабольше. В два раза, т.к. алгаритмическая сложность будет O(1). Каждый раз, когда емкость массива привышается, тогда происходит реаллокация массива.

##  Основные функции работы с слайсами

```
len(), cap(), append(), copy()
```


## Как превратить массив в слайс?

```
slice := array[:]
```


## Как создать слайс?

`var s []int`  
`slice := []int{1,2,3}`  
`slice := make([]int, l, c)`, где l - длина слайса, c - размер капасити слайса  
`slice := make([]int, c)`, где c - размер капасити слайса  

Создать слайс из массива:
```
var array [n]T
slice = array[low:high:max]
```
где `low` - первый индекс массива, `high` - последний индекс массива/слайса, `max` - максимальный индекс слайса, из которого рассчитывается capacity нового слайса


## Что такое map?

Map - это неотсортированный контейнер данных со значениями типа ключ-значение

`map[T]E{ t1: e1, t2: e2, ...}`  

Время обращения к элементу по ключу - это O(1).  
Нулевое значение - `nil`.


## Что будет если обратиться к несуществующему элементу по ключу?

Словарь отдаст дефолтное значение.


## Как создать словарь?

Создание осуществляется через функцию `make`

```
m := make(map[T]E)
```


## Гарантирован ли порядок элементов в словаре? Почему?

Порядок **не гарантирован**. Это связано с тем, как GO внутренне хранит данные в словарях


## Какой тип может быть ключом словаря? 

Только тот, который поддерживает сравнения друг с другом. 


## Какие типы можно сравнивать в Go?

0. Примитивы. Сравниваются напрямую.
1. Массивы (не слайсы!). Можно сравнивать, если элементы сравнимы. 
2. Структуры. Сравниваются по значениям всех полей, если элементы сравнимы.
3. Указатели. Сравниваются между собой и с nil
4. Интерфейсы
5. Каналы

**Важно!** Словари и слайсы сранивать нельзя, т.к. это ссылки на динамические структуры, что делает 
сравнение содержимого очень дорогим и неочевидным (может содержать разные данные, занимающие одну область памяти)


## Что такое структура?

Составной тип данных, состоящий любых типов. Необъявленные поля заполняются дефолтными значениями.


## Что такое указатель?

Указатель - это число, которое показывает адрес в памяти


## Что такое передача по ссылке? По значению?

Все аргументы функции передаются по значению. Это значит, что перменная переданная в функцию будет скопированна и операция будет выполнена над ее копией.


## Какие типы в golang являются ссылочными?

Массивы, словари, каналы, указатели